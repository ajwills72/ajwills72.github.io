{
    "contents" : "print(\"DAU: EXE7\")\n# Andy Wills - 27 Oct 2014\nprint(\"Objective sort analysis\")\n# Define sort strategies\nud1 <- c(1,2,1,1,1,2,1,2,2,2)\nud2 <- c(1,1,2,1,1,2,2,1,2,2)\nud3 <- c(1,1,1,2,1,2,2,2,1,2)\nud4 <- c(1,1,1,1,2,2,2,2,2,1)\noss <- c(1,1,1,1,1,2,2,2,2,2)\n# Load data\nw <- read.csv(\"exe7data.csv\")\n# Set up array containing details of model fits for each block of each participant\n# This is a 3D array. Third dimension is participants. Rows are blocks. Columns are various\n# calculations about that block\n# ud.win - UD strategy selected (1 = Yes, 0 = No)\n# os.win - OS strategy selected\n# ot.win - OTHER strategy selected\n# fit.ud1 - Number of responses predicted by a strategy of responding on the basis of the first stimulus dimension\n# fit.ud2 - ... 2nd stimulus dimension \n# fit.ud3 - ... 3rd stimulus dimension\n# fit.ud4 - ... 4th stimulus dimension.\n# fit.oss - ... overall similarity\n# mdl.win - Used by program to populate other columns.\nop <- array(0,c(12,11,36))\ncolnames(op) <- c('subj','block','ud.win','os.win','ot.win','fit.ud1','fit.ud2','fit.ud3','fit.ud4','fit.oss','mdl.win')\n# Set up summary array containing proportion of UD, OS, and Other sorts for each participant\nkd <- array(0,c(36,5))\ncolnames(kd) <- c('cond','ud','os','ot','subj')\n\nfor (ppt in 1:36) { \n\tfor (block in 1:12) { \n\t\tst <- 1 + block * 10 + (ppt-1) * 130 # First row in data file for this block\n\t\tnd <- 10 + block * 10 + (ppt-1) * 130 # Last row in data file for this block\n\t\tobju <- cbind(w[st:nd,\"stim\"],w[st:nd,\"resp\"]) # Extract classification decisions for this block\n\t\tobj <- obju[order(obju[,1]),] # Order by stimulus number\n    # Compare matches to specified strategies\n\t\tfit <- c(sum(ud1==obj[,2]),sum(ud2==obj[,2]),sum(ud3==obj[,2]),sum(ud4==obj[,2]),sum(oss==obj[,2]))\n\t\t# Set winning model to one with highest score \n    # (unless highest score is less than 9, in which case select 'other' as winner. The mdl number for other is 0)\n\t\tif(max(fit) > 8) {mdl <- which.max(fit)} else {mdl <-0}\n    # Where the highest score is less than 10, sometimes more than one model fits equally well.\n    # These are treated as missing data (mdl number is set to 99)\n\t\tif(max(fit) == 9 && sum(fit==9) > 1) {mdl <- 99}\n    # Classify models as UD, OS, or Other, and indicate whether that model class has won (1) or lost (0)\n\t\tif(mdl==0) {ot <- 1} else {ot <- 0}\n\t\tif(mdl==5) {os <- 1} else {os <- 0}\n\t\tif(mdl > 0 && mdl < 5) {ud <-1} else {ud <-0}\n    # Where the model is 99 (a tie), set to NA (not a number) in order to code as missing data.\n\t\tif(mdl==99) {\n\t\t\tot <- NA\n\t\t\tos <- NA\n\t\t\tud <- NA\n\t\t}\n\t\top[block,,ppt] <- c(w[st,'subj'],w[st,'block'],ud, os, ot, fit,mdl)\n    cond <- w$cond[st]\n\t\tkd[ppt,] <- c(cond, mean(op[,'ud.win',ppt],na.rm = TRUE),mean(op[,'os.win',ppt], na.rm = TRUE),mean(op[,'ot.win',ppt], na.rm = TRUE), w[st,\"subj\"])\n\t}\n}\nkd <- data.frame(kd)\nprint(\"Effect of load on OS prevalence\")\nprint(t.test(kd$os~kd$cond, var.equal = TRUE))\nprint(\"Effect of load on UD prevalence\")\nprint(t.test(kd$ud~kd$cond, var.equal = TRUE))\nprint(\"Effect of load on OTHER prevalence\")\nprint(t.test(kd$ot~kd$cond, var.equal = TRUE))\n\n\n",
    "created" : 1414444793771.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4148000702",
    "id" : "1C018D2D",
    "lastKnownWriteTime" : 1414444999,
    "path" : "~/Dropbox/PROJECTS/PROJECTS/DAUs/EXE7-2011-003 Wills et al. (2013, Exp 2) simul MTS concurrent load/exe7willslab/exe7analysis.R",
    "project_path" : "exe7analysis.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}